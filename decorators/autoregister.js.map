{"version":3,"file":"autoregister.js","sourceRoot":"","sources":["../../src/decorators/autoregister.ts"],"names":[],"mappings":";;;;;;;AAEA,MAAM;IACF,OAAO,CAAC,MAAM,EAAO,EAAE;;QACnB,MAAM,QAAQ,GAAG,MAAM,CAAC;;QAIxB,MAAM,cAAc,GAAQ,iBAAiB,GAAG,IAAI;;YAChD,MAAM,CAAC,GAAQ;gBACX,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;aAC1C,CAAC;YACF,CAAC,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;;YAChD,MAAM,QAAQ,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;YAChC,QAAQ,CAAC,QAAQ,EAAE,CAAC;YAEpB,OAAO,QAAQ,CAAC;SACnB,CAAC;QAEF,cAAc,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAE3D,OAAO,cAAc,CAAC;KACzB,CAAC;CACL","sourcesContent":["import { Service } from '../service';\n\nexport function Autoregister() {\n    return (target): any => {\n        const original = target;\n\n        /*tslint:disable: only-arrow-functions*/\n        // function name is required\n        const newConstructor: any = function newCtor(...args) {\n            const c: any = function childConstuctor() {\n                return original.apply(this, arguments);\n            };\n            c.prototype = Object.create(original.prototype);\n            const instance = new c(...args);\n            instance.register();\n\n            return instance;\n        };\n\n        newConstructor.prototype = Object.create(target.prototype);\n\n        return newConstructor;\n    };\n}\n"]}