{"version":3,"file":"path-builder.js","sourceRoot":"","sources":["../../src/services/path-builder.ts"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,IAAI,EAAE,MAAM,SAAS,CAAC;AAG/B,MAAM;;qBAC4B,EAAE;wBACC,EAAE;0BACG,EAAE;0BACZ,EAAE;;;;;;;IAEvB,WAAW,CAAC,OAAgB,EAAE,SAA8C,EAAE;QACjF,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,CAAC;QACtC,IAAI,MAAM,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;SACtC;QACD,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC;QACnC,IAAI,MAAM,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;SACnC;;;;;;IAGE,UAAU,CAAC,KAAa;QAC3B,IAAI,KAAK,KAAK,EAAE,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC1B;;;;;;IAGE,aAAa,CAAC,KAAa;QAChC,IAAI,KAAK,KAAK,EAAE,EAAE;YAChB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;SACzB;;;;;IAGI,WAAW;QACd,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;;;;IAGrD,GAAG;;QACN,IAAI,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QAElC,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1B,MAAM,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;SACrD;QAED,OAAO,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,gBAAgB,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;;;;;;IAGjJ,UAAU,CAAC,aAA4B;QAC3C,IAAI,CAAC,QAAQ,GAAG,aAAa,CAAC;;CAErC","sourcesContent":["import { IParamsCollection, IParamsResource } from '../interfaces';\nimport { Core } from '../core';\nimport { Service } from '../service';\n\nexport class PathBuilder {\n    public paths: Array<string> = [];\n    public includes: Array<string> = [];\n    protected get_params: Array<string> = [];\n    public apiBaseUrl: string = '';\n\n    public applyParams(service: Service, params: IParamsResource | IParamsCollection = {}) {\n        this.appendPath(service.getPrePath());\n        if (params.beforepath) {\n            this.appendPath(params.beforepath);\n        }\n        this.appendPath(service.getPath());\n        if (params.include) {\n            this.setInclude(params.include);\n        }\n    }\n\n    public appendPath(value: string) {\n        if (value !== '') {\n            this.paths.push(value);\n        }\n    }\n\n    public setApiBaseUrl(value: string) {\n      if (value !== '') {\n        this.apiBaseUrl = value;\n      }\n    }\n\n    public getForCache(): string {\n        return this.paths.join('/') + this.get_params.join('/');\n    }\n\n    public get(): string {\n        let params = [...this.get_params];\n\n        if (this.includes.length > 0) {\n            params.push('include=' + this.includes.join(','));\n        }\n\n        return this.apiBaseUrl + this.paths.join('/') + (params.length > 0 ? Core.injectedServices.rsJsonapiConfig.params_separator + params.join('&') : '');\n    }\n\n    private setInclude(strings_array: Array<string>) {\n        this.includes = strings_array;\n    }\n}\n"]}